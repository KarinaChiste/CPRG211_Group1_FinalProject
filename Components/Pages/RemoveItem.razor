@page "/removeitem"
@using CPRG211_Group1_FinalProject.Classes

<h3>Confirm Item Deletion</h3>

<div style="padding-top:10px">
	<label>Item ID: </label> <br />
	<input type="text" placeholder="Item ID" style="width:50%" readonly value="@itemId" />

</div>

<div style="padding-top:10px">
	<label>Item Name: </label> <br />
	<input type="text" placeholder="Item Name" style="width:50%" readonly value="@itemName" />
</div>

<div style="padding-top:10px">
	<label>Item Price: </label> <br />
	<input type="text" placeholder="Item Price" style="width:50%" readonly value="@itemPrice" />
</div>

<div style="padding-top:10px">
	<label>Item Type: </label> <br />
	<input type="text" placeholder="Item Type" style="width:50%" readonly value="@itemType" />
</div>

<div class=" flex-grow-1" style="width: 190px; padding-top:10px">
	<button type="button" class="btn btn-primary w-100"
	style="white-space: nowrap;" @onclick="DeleteMenuItem">
		Remove Item
	</button>

</div>
@success

@* @code {
	private string itemId;
	private string itemName;
	private string itemType;
	private string itemPrice;

	public string success = string.Empty;

	public void DeleteMenuItem()
	{
		try
		{
			MenuManager.DeleteMenuItem(itemId);
			success = "Menu item deleted!";
		}
		catch (Exception ex)
		{
			success = ex.Message;
		}

	}
} *@

@code {
	private string itemId;
	private string itemName;
	private string itemType;
	private string itemPrice;

	public string success = string.Empty;



	public void LoadMenuItem()
	{
		try
		{
			MenuDbAccessor accessor = new MenuDbAccessor();
			MenuItem selectedItem = accessor.GetMenuItem(itemId);

			if (selectedItem != null)
			{
				itemName = selectedItem.ItemName;
				itemType = selectedItem.ItemType;
				itemPrice = selectedItem.Price;
				success = "Menu item loaded.";
			}
			else
			{
				success = "Menu item not found.";
			}
		}
		catch (Exception ex)
		{
			success = $"Error: {ex.Message}";
		}
	}

	public void DeleteMenuItem()
	{
		try
		{
			MenuManager.DeleteMenuItem(itemId);
			success = "Menu item deleted!";
		}
		catch (Exception ex)
		{
			success = ex.Message;
		}
	}
}
